# Des caractÃ¨res Ã  l'Ã©cran -- encodage numÃ©rique 

::: {.content-visible when-format="html" unless-format="revealjs"}

```{=html}
<iframe src="_slides/encodage.html"></iframe>
```
[Ouvrir dans mon navigateur](_slides/encodage.html){target="_blank"} 

::: 

## Encodage numÃ©rique 

- Un fichier numÃ©rique = Une suite de bits (des 0 et des 1) 
  - train/flux de bits : suite de bits (**bi**nary digi**t**)
  - un octet : 
    - une sÃ©quence de 8 bits 
    - 2^8^ (256) combinaisons possibles de 0 et de 1 
- Le format : spÃ©cifie l'interprÃ©tation de cette suite de 0 et de 1 
- Taille d'un fichier numÃ©rique : nombre d'instances de 0 et de 1 nÃ©cessaires Ã  sa reprÃ©sentation 
- *Codage* : norme qui dÃ©finit quels sont les caractÃ¨res utilisables dans un fichier. Toutes les normes ne codent pas les mÃªmes caractÃ¨res. (- A. Perret)

## SystÃ¨me de numÃ©ration en base 2 

> Un ordinateur ne connaÃ®t que deux choses: les 1 et les 0. Chaque lettre dans cette phrase, chaque couleur, chaque seconde dâ€™une vidÃ©o ou dâ€™un morceau de musique, chaque page web, chaque programme nâ€™est quâ€™une longue succession de 1 et de 0. 
> [Mia Combeau](https://www.codequoi.com/binaire-001-compter-et-calculer-comme-un-ordinateur/) 

![](img/binaire.png)

## MÃ©moire 

- La taille d'un disque dur dÃ©finit le nombre de bits disponibles pour encoder des informations simultanÃ©ment. Par exemple, un disque dur de 50 Go de mÃ©moireÂ :

    - est Ã©gal Ã  50 000 000 000 octets (cinquante milliards)
    - est Ã©gal Ã  400 000 000 000 bits (quatre cents milliards)

- La taille d'un fichier dÃ©finit le nombre de bits nÃ©cessaire Ã  son encodage. Par exemple, un fichier d'une taille de 30 Ko :

    - nÃ©cessite 30 x 1 000 x 8 bits
    - contient donc un total de 240 000 instances de 1 ou 0

## 0 ou 1 ? 

Tout document conservÃ© sur un ordinateur est constituÃ© d'une sÃ©rie de 0 et de 1. 

Ce sont les normes d'encodage et les formats qui permettent d'interprÃ©ter le sens de ces 0 et 1. 

![](img/endoage_binaire.png)

## Normes d'encodage 

- Normes d'encodages = clefs d'encodage/dÃ©codage pour passer d'une forme intelligible pour les humains Ã  une forme lisible par la machine ; 
- En fonction du type de fichier encodÃ© (texte, image, vidÃ©o, etc.), il existe diffÃ©rents paysages de normes et de modes de reprÃ©sentation

## Encodage des donnÃ©es textuelles

- Un document numÃ©rique textuel contient du texte (caractÃ¨res alphanumÃ©riques et de symboles) ; 
- La norme d'encodage d'un texte == une table de correspondance entre un groupe de bits et un caractÃ¨re alphanumÃ©rique ou un symbole ; 
- La norme d'encodage dÃ©finit donc la liste des caractÃ¨res disponibles (```character set```) ; 
- En fonction de la norme, la reprÃ©sentation d'un caractÃ¨re peut s'Ã©tendre sur un ou plusieurs octets
- Les normes les plus connues pour des textes en franÃ§ais sont :

    - ASCII (1963)
    - ISO 8859-1 (1986)
    - UTF-8 (1996)


### ASCII 

- [American Standard Code for Information Interchange](https://fr.wikipedia.org/wiki/American_Standard_Code_for_Information_Interchange)Â ; 
- Premier jeu de caractÃ¨res standardisÃ© (1963)Â ; 
- Norme amÃ©ricano-centrÃ©eÂ ; 
- 128 caractÃ¨res, desquels sont exclusÂ : 
  - les caractÃ¨res accentuÃ©s, 
  - tous les alphabets non latins (arabe, cyrillique, hÃ©breu, idÃ©ogrammes, etc.)Â ; 
- 1 caractÃ¨re = 7 bits 

</section>
<section>


```
 !"#$%&'()*+,-./
0123456789:;<=>?
@ABCDEFGHIJKLMNO
PQRSTUVWXYZ[\]^_
`abcdefghijklmno
pqrstuvwxyz{|}~
```

::: {.callout-note}
Ci-dessus, seulement 95 caractÃ¨res. Les autres ne sont pas imprimables (dits, caractÃ¨res *de contrÃ´le*) ; il correspondent plutÃ´t Ã  des actions ou des commandes. 

Ex. : 

- 9 (binaire : 000 1001) = HT (*Horizontal Tab*, ```tab```) 
- 10 (binaire : 000 1010) = LF (*Line Feed*, saut de ligne) 
- 12 (binaire : 000 1100) = FF (*Form Feed*, saut de page) 
- 127 (binaire : 111 1111) = Ã  votre avis ? 

:::

### ISO 8859-1 

- 1986 
- 1 caractÃ¨res = 8 bits 
- RÃ©trocompatibilitÃ© ASCII ; 
- 256 caractÃ¨res oÃ¹ chaque caractÃ¨re est reprÃ©sentÃ© par 8 bits ; 
- Souvent appelÃ©e Latin1 mais aussi Western Europe. 
- Manquent : Å’, Å“, Å¸, â‚¬ (et les alphabts non-latins)

</section>
<section>

```
 !"#$%&'()*+,-./    Â¡Â¢Â£Â¤Â¥Â¦Â§Â¨Â©ÂªÂ«Â¬-Â®Â¯
0123456789:;<=>?   Â°Â±Â²Â³Â´ÂµÂ¶Â·Â¸Â¹ÂºÂ»Â¼Â½Â¾Â¿
@ABCDEFGHIJKLMNO   Ã€ÃÃ‚ÃƒÃ„Ã…Ã†Ã‡ÃˆÃ‰ÃŠÃ‹ÃŒÃÃÃ
PQRSTUVWXYZ[\]^_   ÃÃ‘Ã’Ã“Ã”Ã•Ã–Ã—Ã˜Ã™ÃšÃ›ÃœÃÃÃŸ
`abcdefghijklmno   Ã Ã¡Ã¢Ã£Ã¤Ã¥Ã¦Ã§Ã¨Ã©ÃªÃ«Ã¬Ã­Ã®Ã¯
pqrstuvwxyz{|}~    Ã°Ã±Ã²Ã³Ã´ÃµÃ¶Ã·Ã¸Ã¹ÃºÃ»Ã¼Ã½Ã¾Ã¿
```

- Exemple: Ã© = ```11101001```

::: {.callout-note}
- ISO 8859-2 (Europe centrale et de l'Est),
- ISO 8859-5 (alphabet cyrillique),
- ISO 8859-6 (caractÃ¨res courants de l'alphabet arabe), etc.

oÃ¹ seuls changent les codes 128 Ã  255. 
:::



### Unicode 

- [Table de caractÃ¨res](https://symbl.cc/fr/unicode-table/)Â ;  
- Standard universel de reprÃ©sentation de caractÃ¨res ; 
- Contrairement Ã  ASCII, Unicode ne dÃ©finit pas l'implÃ©mentation du *mapping* ; 
- Indique seulement quel caractÃ¨re se rÃ©fÃ¨re Ã  quel point de code (oÃ¹ chaque point de code est un nombre hexadÃ©cimal (0-9 + A-F) reprÃ©sentant un caractÃ¨re) ; 
- Le standard Unicode lui-mÃªme ne spÃ©cifie pas comment ces points de code doivent Ãªtre stockÃ©s en mÃ©moire ou transmis dans des fichiers. Câ€™est lÃ  quâ€™interviennent les encodages Unicode comme UTF-8 ; 
- 1 114 112 positions possibles ; 
- DivisÃ©s en *scripts* : collections cohÃ©rentes de caractÃ¨res en usage dans un domaine particulier (symboles monÃ©taires, opÃ©rateurs mathÃ©matiques, braille, etc). 

### UTF-8 {.smaller}

- MÃ©thode d'encodage 
- 1996 
- [Universal Character Set Transformation Format](https://fr.wikipedia.org/wiki/UTF-8) + base d'encodage (8, 16, 32, ...), soit UTF-8, UTF-16, UTF-32 ; 
- En fonction de la base d'encodage, un caractÃ¨re peut Ãªtre reprÃ©sentÃ© par 1, 2, 3 ou 4 octets ; 
- UTF est rÃ©trocompatible avec ASCII, mais pas avec ISO 8859-1. Il s'inscrit dans le cadre Ã©tabli par Unicode qui vise Ã  faciliter l'Ã©change de textes numÃ©riques en assurant leur compatibilitÃ© ; 
- Unicode dÃ©finit plus de 137 000 caractÃ¨res, issus de multiples alphabets, et prÃ©voit aussi des symboles comme les emojis ; 
- Exemples 
  - A = U+0041 = 01000001 ; 
  - æ±‰ = U+6C49 = 1110**0110** 10**110001** 10**001001** ; 
  - ğŸ¤“ = U+1F913 = 11110**000** 10**011111** 10**100100** 10**010011** ; 

## Mauvais encodage/dÃ©codage

Si on n'utilise pas la bonne clef d'encodage ou de dÃ©codage d'un texte, on risque d'obtenir un texte partiellement ou entiÃ¨rement illisible.

UTF-8 ouvert avec 8859-1 (Latin 1)

> La Joconde, ou Portrait de Mona Lisa, est un tableau de l'artiste LÃƒÂ©onard de Vinci, rÃƒÂ©alisÃƒÂ© entre 1503 et 1506 ou entre 1513 et 15161,2, et peut-ÃƒÂªtre jusqu'Ãƒ  1519 (l'artiste ÃƒÂ©tant mort cette annÃƒÂ©e-lÃƒ , le 2 mai)3, qui reprÃƒÂ©sente un portrait mi-corps, probablement celui de la Florentine Lisa Gherardini, ÃƒÂ©pouse de Francesco del Giocondo. Acquise par FranÃƒÂ§ois Ier, cette peinture Ãƒ  l'huile sur panneau de bois de peuplier de 77 ÃƒÂ— 53 cm est exposÃƒÂ©e au musÃƒÂ©e du Louvre Ãƒ  Paris. La Joconde est l'un des rares tableaux attribuÃƒÂ©s de faÃƒÂ§on certaine Ãƒ  LÃƒÂ©onard de Vinci.

</section>
<section>

UTF-8 ouvert avec ISO 8859-5 (Cyrillic)

> La Joconde, ou Portrait de Mona Lisa, est un tableau de l'artiste LĞ£Ğ‰onard de Vinci, rĞ£Ğ‰alisĞ£Ğ‰ entre 1503 et 1506 ou entre 1513 et 15161,2, et peut-Ğ£ĞŠtre jusqu'Ğ£  1519 (l'artiste Ğ£Ğ‰tant mort cette annĞ£Ğ‰e-lĞ£ , le 2 mai)3, qui reprĞ£Ğ‰sente un portrait mi-corps, probablement celui de la Florentine Lisa Gherardini, Ğ£Ğ‰pouse de Francesco del Giocondo. Acquise par FranĞ£Ğ‡ois Ier, cette peinture Ğ£  l'huile sur panneau de bois de peuplier de 77 Ğ£Â— 53 cm est exposĞ£Ğ‰e au musĞ£Ğ‰e du Louvre Ğ£  Paris. La Joconde est l'un des rares tableaux attribuĞ£Ğ‰s de faĞ£Ğ‡on certaine Ğ£  LĞ£Ğ‰onard de Vinci.

## Une norme ? 

UTF s'impose dÃ©sormais comme la norme

![diagramme montrant qu'UTF s'impose sur les autres normes depuis 2006](img/encoding_trends.png)

D'aprÃ¨s W3Techs, 97,8% des pages web qui dÃ©clarent un encodage suivent UTF-8 aujourd'hui.

(source du graphique: Wikimedia)
